"use strict";const servers={iceServers:[{urls:"stun:stun.services.mozilla.com"},{urls:"stun:stun.l.google.com:19302"},{urls:"turn:numb.viagenie.ca",credential:"password123",username:"mikkojam@metropolia.fi"}]},$chatBox=document.querySelector(".js-chat-window"),$chatInput=document.querySelector(".js-input"),$form=document.querySelector(".js-chat-form"),socket=io.connect("http://localhost:3000"),username=sessionStorage.getItem("username");$form.addEventListener("submit",e=>{e.preventDefault();const t=$chatInput.value;""!==t&&(socket.emit("message",JSON.stringify({text:t,user:username})),$chatBox.innerHTML+='<div class="chat__row"><p class="chat__sender">'+username+':</p><p class="chat__comment">"'+t+'"</p></div>',$chatInput.value="")},!1),socket.on("join",e=>{$chatBox.innerHTML+='<div class="chat__row"><p class="chat__comment">"'+e+' joined"</p></div>'}),socket.on("message",e=>{const t=JSON.parse(e);$chatBox.innerHTML+='<div class="chat__row"><p class="chat__sender">'+t.user+':</p><p class="chat__comment">"'+t.text+'"</p></div>'}),socket.emit("join",username);