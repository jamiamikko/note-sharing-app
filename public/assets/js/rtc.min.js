"use strict";const servers={iceServers:[{urls:"stun:stun.services.mozilla.com"},{urls:"stun:stun.l.google.com:19302"},{urls:"turn:numb.viagenie.ca",credential:"password123",username:"mikkojam@metropolia.fi"}]},$chatBox=document.querySelector(".js-chat-window"),$chatInput=document.querySelector(".js-input"),$form=document.querySelector(".js-chat-form"),socket=io.connect(window.location.origin),username=sessionStorage.getItem("username");$form.addEventListener("submit",e=>{e.preventDefault();const s=$chatInput.value;""!==s&&(socket.emit("message",JSON.stringify({text:s,user:username})),$chatBox.innerHTML+='<div class="chat__row"><p class="chat__sender">'+username+':</p><p class="chat__comment">"'+s+'"</p></div>',$chatInput.value="")},!1),socket.on("join",e=>{$chatBox.innerHTML+='<div class="chat__row"><p class="chat__comment">"'+e+' joined"</p></div>'}),socket.on("message",e=>{const s=JSON.parse(e);$chatBox.innerHTML+='<div class="chat__row"><p class="chat__sender">'+s.user+':</p><p class="chat__comment">"'+s.text+'"</p></div>'}),socket.emit("join",username);