"use strict";const baseUrl="http://localhost:3000/notes",$heading=document.querySelector(".js-note-heading"),$image=document.querySelector(".js-note-image"),$date=document.querySelector(".js-note-date"),$creator=document.querySelector(".js-note-creator"),$content=document.querySelector(".js-note-content"),$editButton=document.querySelector(".js-edit-button"),getNoteById=e=>new Promise((t,n)=>{fetch(baseUrl+"/get/"+e,{method:"GET"}).then(e=>{t(e.json())}).catch(e=>{n(e)})}),showContent=e=>{$heading.innerHTML=e.title,""!==$image?$image.setAttribute("src","../../"+e.image):$image.remove(),$date.innerHTML=e.time,$creator.innerHTML+=" "+e.creator,$content.innerHTML=e.content,e.creator===sessionStorage.getItem("username")&&$editButton.classList.remove("is-hidden")},init=()=>{const e=location.pathname.split("/notes/view/")[1];getNoteById(e).then(e=>{showContent(e)}).catch(e=>{console.log(e)})};document.addEventListener("DOMContentLoaded",init,!1);